{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAGMC,EAASC,SAASC,cAAc,SAGhCC,EAAO,CAEXC,YAAaJ,EAAOE,cAAc,kBAClCG,YAAYL,EAAOE,cAAc,iBACjCI,SAAUN,EAAOE,cAAc,mBAC/BK,UAAWP,EAAOE,cAAc,WAG9BM,EAAM,GACVR,EAAOS,iBAAiB,SACxB,SAAkBC,GACf,IAAIC,EAAOD,EAAEE,OAAOD,KACnBH,EAAIG,GAAOE,OAAOH,EAAEE,OAAOE,OAC3BC,QAAQC,IAAIN,EAAEE,OAAOD,SAiBzB,SAASM,IA2BT,IAAqBC,EAASC,EAbPC,EAAWC,EAC1BC,EAdFd,EAAIU,SAAWV,EAAIe,SAGrBf,EAAIU,SAAW,EAuBEA,EAtBLV,EAAIU,QAsBUC,EAtBDX,EAAIgB,WASVJ,EAcPF,EAdkBG,EAcVF,EAbhBG,EAAgBG,KAAKC,SAAW,GAC/B,IAAIC,SAAQ,SAACC,EAASC,GACvBP,EACDM,EAAQ,CAACE,SAASV,EAAWW,MAAMV,IAEpCQ,EAAO,CAACC,SAASV,EAAWW,MAAMV,QAQPW,MAAK,SAAAC,G,IAAGH,EAAQG,EAARH,SAAUC,EAAKE,EAALF,MAC/CG,EAAApC,GAASqC,OAAOC,QAAQ,uBAAwCC,OAAfP,EAAS,QAAYO,OAANN,EAAM,UAEvEO,OAAM,SAAAL,G,IAAGH,EAAQG,EAARH,SAAUC,EAAKE,EAALF,MAClBG,EAAApC,GAASqC,OAAOI,QAAQ,sBAAqCF,OAAfP,EAAS,QAAYO,OAANN,EAAM,UA1BnEvB,EAAIgB,UAAahB,EAAIuB,MAAQvB,EAAIgC,KAAOhC,EAAIU,QAC5CH,QAAQC,IAAIR,EAAIgB,WAChBT,QAAQC,IAAIR,GACPiC,WAAWxB,EAAST,EAAIgB,YAvBjCrB,EAAKI,UAAUE,iBAAiB,SAAS,SAACiC,IAI1C,SAAmBA,GACjBA,EAAMC,iBACNnC,EAAIU,QAAU,EACdV,EAAIgB,UAAYhB,EAAIuB,MAAQvB,EAAIU,QAAUV,EAAIgC,KAC9CzB,QAAQC,IAAIR,EAAIgB,WAETiB,WAAWxB,EAAST,EAAIgB,WAT/BoB,CAAUF,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n  \n\nconst formEl = document.querySelector('.form')\n\n\nconst refs = {\n\n  firsDelayEl: formEl.querySelector('[name=\"delay\"]'),\n  stepDelayEl:formEl.querySelector('[name=\"step\"]'),\n  amountEl: formEl.querySelector('[name=\"amount\"]'),\n  submitBtn: formEl.querySelector('button')\n  \n}\nlet obj = {}\nformEl.addEventListener('input', userData)\nfunction userData(e) {\n   let name = e.target.name\n    obj[name]= Number(e.target.value)\n    console.log(e.target.name) \n}\nlet time = null;\nrefs.submitBtn.addEventListener('click', (event) => {\n  starTimer(event)\n})\n\nfunction starTimer(event) {\n  event.preventDefault()\n  obj.counter = 0\n  obj.delayTime = obj.delay + obj.counter * obj.step\n  console.log(obj.delayTime)\n  \n  time = setTimeout(timerUp, obj.delayTime)\n}\n\n\nfunction timerUp() {\n  if (obj.counter >= obj.amount) {\n\n  } else {\n    obj.counter += 1\n    promiseCall(obj.counter, obj.delayTime)\n    obj.delayTime = (obj.delay + obj.step * obj.counter)\n    console.log(obj.delayTime)\n    console.log(obj)\n    time=setTimeout(timerUp, obj.delayTime)\n  }\n\n}\n\nfunction createPromise(positions, delays) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject)=>{\n    if (shouldResolve){\n       resolve({position:positions, delay:delays})\n    } else (\n      reject({position:positions, delay:delays})\n    )\n   \n  })\n}\n\n\nfunction promiseCall(counter, timeOut) {\n  createPromise(counter,timeOut).then(({ position, delay }) => {\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n}\n\n\n\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$refs","firsDelayEl","stepDelayEl","amountEl","submitBtn","$ce04d3a99e08e73b$var$obj","addEventListener","e","name","target","Number","value","console","log","$ce04d3a99e08e73b$var$timerUp","counter","timeOut","positions","delays","shouldResolve","amount","delayTime","Math","random","Promise","resolve","reject","position","delay","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","step","setTimeout","event","preventDefault","$ce04d3a99e08e73b$var$starTimer"],"version":3,"file":"03-promises.b3e727f0.js.map"}