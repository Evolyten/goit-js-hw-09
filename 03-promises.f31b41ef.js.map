{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAASC,SAASC,cAAc,SAGhCC,EAAO,CAEXC,YAAaJ,EAAOE,cAAc,kBAClCG,YAAYL,EAAOE,cAAc,iBACjCI,SAAUN,EAAOE,cAAc,mBAC/BK,UAAWP,EAAOE,cAAc,WAGlC,IAQIM,EARAC,EAAM,GAkBV,SAASC,IA2BT,IAAqBC,EAASC,EA1BxBH,EAAIE,SAAWF,EAAII,QACrBC,aAAaN,GACbC,EAAII,OAAO,IAEXJ,EAAIM,UAAUN,EAAIO,MAAOP,EAAIQ,KAAKR,EAAIE,QACtCF,EAAIE,SAAW,EACfF,EAAIS,eAAeT,EAAIO,MAAOP,EAAIQ,KAAKR,EAAIE,QAoB1BA,EAlBLF,EAAIE,QAkBUC,EAlBDH,EAAIM,UAKjC,SAAuBI,EAAWC,GAChC,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACvBL,EACDI,EAAQ,CAACE,SAASR,EAAWH,MAAMI,IAEpCM,EAAO,CAACC,SAASR,EAAWH,MAAMI,OAQtCQ,CAAcjB,EAAQC,GAASiB,MAAK,EAACF,SAAEA,EAAQX,MAAEA,MAC/Cc,EAAAhC,GAASiC,OAAOC,QAAQ,uBAAqBL,QAAiBX,UAE/DiB,OAAM,EAACN,SAAEA,EAAQX,MAAEA,MAClBc,EAAAhC,GAASiC,OAAOG,QAAQ,sBAAoBP,QAAeX,WArB7DR,EAAK2B,WAAWzB,EAAQD,EAAIS,gBA5B9BlB,EAAOoC,iBAAiB,SACxB,SAAkBC,GACf,IAAIC,EAAOD,EAAEE,OAAOD,KACnB7B,EAAI6B,GAAOE,OAAOH,EAAEE,OAAOE,OAC3BC,QAAQC,IAAIN,EAAEE,OAAOD,SAIzBnC,EAAKI,UAAU6B,iBAAiB,SAAUQ,IACxCA,EAAMC,iBACNpC,EAAIE,QAAU,EACdF,EAAIM,UAAY,EAChBN,EAAIS,eAAe,EACnBV,EAAK2B,WAAWzB,EAAQD,EAAIO","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n  \n\nconst formEl = document.querySelector('.form')\n\n\nconst refs = {\n\n  firsDelayEl: formEl.querySelector('[name=\"delay\"]'),\n  stepDelayEl:formEl.querySelector('[name=\"step\"]'),\n  amountEl: formEl.querySelector('[name=\"amount\"]'),\n  submitBtn: formEl.querySelector('button')\n  \n}\nlet obj = {}\nformEl.addEventListener('input', userData)\nfunction userData(e) {\n   let name = e.target.name\n    obj[name]= Number(e.target.value)\n    console.log(e.target.name) \n}\n\nlet time;\nrefs.submitBtn.addEventListener('click', (event) => {\n  event.preventDefault()\n  obj.counter = 0\n  obj.delayTime = 0\n  obj.currentTimeout=0\n  time=setTimeout(timerUp,obj.delay)\n})\n\n\nfunction timerUp() {\n  if (obj.counter >= obj.amount) {\n    clearTimeout(time)  \n    obj.amount=0\n  } else {\n    obj.delayTime=obj.delay+ obj.step*obj.counter\n    obj.counter += 1\n    obj.currentTimeout=obj.delay+ obj.step*obj.counter\n\n    promiseCall(obj.counter, obj.delayTime)\n  }\n  time=setTimeout(timerUp,obj.currentTimeout)\n}\n\nfunction createPromise(positions, delays) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject)=>{\n    if (shouldResolve){\n       resolve({position:positions, delay:delays})\n    } else (\n      reject({position:positions, delay:delays})\n    )\n   \n  })\n}\n\n\nfunction promiseCall(counter, timeOut) {\n  createPromise(counter,timeOut).then(({ position, delay }) => {\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n}\n\n\n\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$refs","firsDelayEl","stepDelayEl","amountEl","submitBtn","$47d4ff9957288465$var$time","$47d4ff9957288465$var$obj","$47d4ff9957288465$var$timerUp","counter","timeOut","amount","clearTimeout","delayTime","delay","step","currentTimeout","positions","delays","shouldResolve","Math","random","Promise","resolve","reject","position","$47d4ff9957288465$var$createPromise","then","$parcel$interopDefault","Notify","success","catch","failure","setTimeout","addEventListener","e","name","target","Number","value","console","log","event","preventDefault"],"version":3,"file":"03-promises.f31b41ef.js.map"}