{"mappings":"iiBAAA,IAsBIA,EAtBJC,EAAAC,EAAA,SAGMC,EAASC,SAASC,cAAc,SAGhCC,EAAO,CAEXC,YAAaJ,EAAOE,cAAc,kBAClCG,YAAYL,EAAOE,cAAc,iBACjCI,SAAUN,EAAOE,cAAc,mBAC/BK,UAAWP,EAAOE,cAAc,WAG9BM,EAAM,GAkBV,SAASC,IA2BT,IAAqBC,EAASC,EAbPC,EAAWC,EAC1BC,EAdFN,EAAIE,SAAWF,EAAIO,QACrBC,aAAanB,GACbW,EAAIO,OAAO,IAEXP,EAAIS,UAAUT,EAAIU,MAAOV,EAAIW,KAAKX,EAAIE,QACtCF,EAAIE,SAAW,EACfF,EAAIY,eAAeZ,EAAIU,MAAOV,EAAIW,KAAKX,EAAIE,QAoB1BA,EAlBLF,EAAIE,QAkBUC,EAlBDH,EAAIS,WAKVL,EAcPF,EAdkBG,EAcVF,EAbhBG,EAAgBO,KAAKC,SAAW,GAC/B,IAAIC,SAAQ,SAACC,EAASC,GACvBX,EACDU,EAAQ,CAACE,SAASd,EAAWM,MAAML,IAEpCY,EAAO,CAACC,SAASd,EAAWM,MAAML,QAQPc,MAAK,SAAAC,G,IAAGF,EAAQE,EAARF,SAAUR,EAAKU,EAALV,MAC/CW,EAAA/B,GAASgC,OAAOC,QAAQ,uBAAwCC,OAAfN,EAAS,QAAYM,OAANd,EAAM,UAEvEe,OAAM,SAAAL,G,IAAGF,EAAQE,EAARF,SAAUR,EAAKU,EAALV,MAClBW,EAAA/B,GAASgC,OAAOI,QAAQ,sBAAqCF,OAAfN,EAAS,QAAYM,OAANd,EAAM,WArBrErB,EAAKsC,WAAW1B,EAAQD,EAAIY,gBA5B9BpB,EAAOoC,iBAAiB,SACxB,SAAkBC,GACf,IAAIC,EAAOD,EAAEE,OAAOD,KACnB9B,EAAI8B,GAAOE,OAAOH,EAAEE,OAAOE,OAC3BC,QAAQC,IAAIN,EAAEE,OAAOD,SAIzBnC,EAAKI,UAAU6B,iBAAiB,SAAS,SAACQ,GACxCA,EAAMC,iBACNrC,EAAIE,QAAU,EACdF,EAAIS,UAAY,EAChBT,EAAIY,eAAe,EACnBvB,EAAKsC,WAAW1B,EAAQD,EAAIU,U","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n  \n\nconst formEl = document.querySelector('.form')\n\n\nconst refs = {\n\n  firsDelayEl: formEl.querySelector('[name=\"delay\"]'),\n  stepDelayEl:formEl.querySelector('[name=\"step\"]'),\n  amountEl: formEl.querySelector('[name=\"amount\"]'),\n  submitBtn: formEl.querySelector('button')\n  \n}\nlet obj = {}\nformEl.addEventListener('input', userData)\nfunction userData(e) {\n   let name = e.target.name\n    obj[name]= Number(e.target.value)\n    console.log(e.target.name) \n}\n\nlet time;\nrefs.submitBtn.addEventListener('click', (event) => {\n  event.preventDefault()\n  obj.counter = 0\n  obj.delayTime = 0\n  obj.currentTimeout=0\n  time=setTimeout(timerUp,obj.delay)\n})\n\n\nfunction timerUp() {\n  if (obj.counter >= obj.amount) {\n    clearTimeout(time)  \n    obj.amount=0\n  } else {\n    obj.delayTime=obj.delay+ obj.step*obj.counter\n    obj.counter += 1\n    obj.currentTimeout=obj.delay+ obj.step*obj.counter\n\n    promiseCall(obj.counter, obj.delayTime)\n  }\n  time=setTimeout(timerUp,obj.currentTimeout)\n}\n\nfunction createPromise(positions, delays) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject)=>{\n    if (shouldResolve){\n       resolve({position:positions, delay:delays})\n    } else (\n      reject({position:positions, delay:delays})\n    )\n   \n  })\n}\n\n\nfunction promiseCall(counter, timeOut) {\n  createPromise(counter,timeOut).then(({ position, delay }) => {\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n}\n\n\n\n"],"names":["$ce04d3a99e08e73b$var$time","$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$refs","firsDelayEl","stepDelayEl","amountEl","submitBtn","$ce04d3a99e08e73b$var$obj","$ce04d3a99e08e73b$var$timerUp","counter","timeOut","positions","delays","shouldResolve","amount","clearTimeout","delayTime","delay","step","currentTimeout","Math","random","Promise","resolve","reject","position","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","setTimeout","addEventListener","e","name","target","Number","value","console","log","event","preventDefault"],"version":3,"file":"03-promises.cec6d54d.js.map"}